"use strict";(self.webpackChunksa_docs=self.webpackChunksa_docs||[]).push([[2575],{3905:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return c}});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=p(a),c=o,h=m["".concat(s,".").concat(c)]||m[c]||d[c]||r;return a?n.createElement(h,l(l({ref:t},u),{},{components:a})):n.createElement(h,l({ref:t},u))}));function c(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,l=new Array(r);l[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var p=2;p<r;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},3831:function(e,t,a){a.r(t),a.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return c},frontMatter:function(){return i},metadata:function(){return p},toc:function(){return d}});var n=a(7462),o=a(3366),r=(a(7294),a(3905)),l=["components"],i={},s="Overview",p={unversionedId:"getting-started/installation/prerequisite",id:"getting-started/installation/prerequisite",title:"Overview",description:"\x3c!-----",source:"@site/docs/getting-started/installation/prerequisite.md",sourceDirName:"getting-started/installation",slug:"/getting-started/installation/prerequisite",permalink:"/docs/getting-started/installation/prerequisite",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/getting-started/installation/prerequisite.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/docs/getting-started/introduction"},next:{title:"System Requirements",permalink:"/docs/getting-started/installation/system-requiremets"}},u={},d=[{value:"Installation",id:"installation",level:2},{value:"Constants",id:"constants",level:3},{value:"Github/Code information",id:"githubcode-information",level:3},{value:"Server Requirements",id:"server-requirements",level:3},{value:"Virtual Host setup",id:"virtual-host-setup",level:3},{value:"Import test data",id:"import-test-data",level:3},{value:"Installing Laravel",id:"installing-laravel",level:3},{value:"Installing NPM &amp; Node",id:"installing-npm--node",level:3},{value:"Browsing website",id:"browsing-website",level:3},{value:"Installation Extra Notes:",id:"installation-extra-notes",level:3}],m={toc:d};function c(e){var t=e.components,a=(0,o.Z)(e,l);return(0,r.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"overview"},"Overview"),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)("h3",{id:"constants"},"Constants"),(0,r.kt)("p",null,"PHP_VERSION = 7.4"),(0,r.kt)("h3",{id:"githubcode-information"},"Github/Code information"),(0,r.kt)("p",null,"I have used a branch named local-setup in which I have resolved the paths with the env or ",(0,r.kt)("strong",{parentName:"p"},"DIR"),", which are mandatory to set up on localhost because paths can be different for everyone so should be used in a way that it should not be required to change by anyone."),(0,r.kt)("h3",{id:"server-requirements"},"Server Requirements"),(0,r.kt)("p",null,"Shopify Laravel framework has a few system requirements. You will need to make sure your server meets the following requirements:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"PHP 7.4 (If need to upgrade or downgrade follow this link ",(0,r.kt)("a",{parentName:"li",href:"https://webdock.io/en/docs/perfect-server-stacks/upgrading-or-downgrading-php-versions"},"https://webdock.io/en/docs/perfect-server-stacks/upgrading-or-downgrading-php-versions"),")"),(0,r.kt)("li",{parentName:"ol"},"BCMath PHP Extension (sudo apt install php7.4-bcmath)"),(0,r.kt)("li",{parentName:"ol"},"Ctype PHP Extension (Installed by default as of PHP 5.3.0)"),(0,r.kt)("li",{parentName:"ol"},"Fileinfo PHP extension (Installed by default as of PHP 5.3.0)"),(0,r.kt)("li",{parentName:"ol"},"JSON PHP Extension (sudo apt install php7.4-json)"),(0,r.kt)("li",{parentName:"ol"},"Mbstring PHP Extension (sudo apt install php7.4-mbstring)"),(0,r.kt)("li",{parentName:"ol"},"OpenSSL PHP Extension (sudo apt install openssl)"),(0,r.kt)("li",{parentName:"ol"},"PDO PHP Extension (sudo apt-get install php7.4-mysql && sudo phpenmod pdo_mysql)"),(0,r.kt)("li",{parentName:"ol"},"Tokenizer PHP Extension (sudo apt install php7.4-tokenizer)"),(0,r.kt)("li",{parentName:"ol"},"XML PHP Extension (sudo apt install php7.4-xml)"),(0,r.kt)("li",{parentName:"ol"},"CURL PHP Extension (sudo apt install php7.4-curl)"),(0,r.kt)("li",{parentName:"ol"},"ZIP PHP Extension (sudo apt install php7.4-zip)"),(0,r.kt)("li",{parentName:"ol"},"GD PHP Extension (sudo apt install php7.4-gd)"),(0,r.kt)("li",{parentName:"ol"},"Enable SSL (sudo a2enmod ssl)"),(0,r.kt)("li",{parentName:"ol"},"Use letsencrypt for generating certificates (",(0,r.kt)("a",{parentName:"li",href:"https://letsencrypt.org/docs/certificates-for-localhost/"},"https://letsencrypt.org/docs/certificates-for-localhost/"),")"),(0,r.kt)("li",{parentName:"ol"},"memchache (",(0,r.kt)("a",{parentName:"li",href:"https://devdocs.magento.com/guides/v2.4/config-guide/memcache/memcache_ubuntu.html"},"https://devdocs.magento.com/guides/v2.4/config-guide/memcache/memcache_ubuntu.html"),")"),(0,r.kt)("li",{parentName:"ol"},"Phantomjs (",(0,r.kt)("a",{parentName:"li",href:"https://www.vultr.com/docs/how-to-install-phantomjs-on-ubuntu-16-04"},"https://www.vultr.com/docs/how-to-install-phantomjs-on-ubuntu-16-04"),")"),(0,r.kt)("li",{parentName:"ol"},"Enable php mod_rewrite (",(0,r.kt)("a",{parentName:"li",href:"https://www.digitalocean.com/community/tutorials/how-to-rewrite-urls-with-mod_rewrite-for-apache-on-ubuntu-18-04"},"https://www.digitalocean.com/community/tutorials/how-to-rewrite-urls-with-mod_rewrite-for-apache-on-ubuntu-18-04"),")"),(0,r.kt)("li",{parentName:"ol"},"Make sure mod headers are installed"),(0,r.kt)("li",{parentName:"ol"},"sudo apt-get install php7.4-mailparse")),(0,r.kt)("p",null,"Restart the apache server after installing the above mentioned extensions. For restarting use the below command."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"sudo service apache2 restart")),(0,r.kt)("h3",{id:"virtual-host-setup"},"Virtual Host setup"),(0,r.kt)("p",null,"Setup virtual host named local.shopperapproved.com, for setting up virtual hosts follow this link ",(0,r.kt)("a",{parentName:"p",href:"https://www.ostechnix.com/configure-apache-virtual-hosts-ubuntu-part-1/"},"https://www.ostechnix.com/configure-apache-virtual-hosts-ubuntu-part-1/")),(0,r.kt)("h3",{id:"import-test-data"},"Import test data"),(0,r.kt)("p",null,"First create 3 databases named as below:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"shopperapproved"),(0,r.kt)("li",{parentName:"ol"},"shared"),(0,r.kt)("li",{parentName:"ol"},"gmscart")),(0,r.kt)("p",null,"Then import the .sql files provided in the package, using command line or using any client tool, for command line import follow the instructions given on the link ",(0,r.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/17666249/how-do-i-import-an-sql-file-using-the-command-line-in-mysql"},"https://stackoverflow.com/questions/17666249/how-do-i-import-an-sql-file-using-the-command-line-in-mysql")),(0,r.kt)("p",null,"Then create mysql user using the command line and commands below:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"create user 'shopperapproved'@'%' identified by 'your_complex_password';"),(0,r.kt)("li",{parentName:"ol"},"grant ALL PRIVILEGES on ",(0,r.kt)("em",{parentName:"li"},".")," to 'shopperapproved'@'%';")),(0,r.kt)("h3",{id:"installing-laravel"},"Installing Laravel"),(0,r.kt)("p",null,"Before you start laravel installation, you need to configure your .env file and /config/shopperapproved.php, paste shopperapproved.php file one folder behind your root directory inside config directory and provide your correct paths and mysql credentials, for help I will send example.env file in the package that will be the same file as you will use except few changes of path where I have written \u201c",(0,r.kt)("em",{parentName:"p"},"This need to change"),"\u201d, then go to the laravel-develop folder, and install laravel modules/packages using the below command"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"composer update or composer install"),(0,r.kt)("li",{parentName:"ol"},"Composer version should be 2.x")),(0,r.kt)("p",null,"If composer update does not work then remove the vendor folder and run composer install."),(0,r.kt)("p",null,"After the successful installation, please run the following command from the laravel-develop"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"cp vendor/autoload.php ../vendor/autoload.php"),(0,r.kt)("li",{parentName:"ul"},"This command will create a copy of autoload.php into the previous directory of vendor"),(0,r.kt)("li",{parentName:"ul"},"Now open the autoload.php file from the target directory"),(0,r.kt)("li",{parentName:"ul"},"And replace require",(0,r.kt)("em",{parentName:"li"},"once ",(0,r.kt)("strong",{parentName:"em"},"_","DIR")," ","_",". '/composer/autoload_real.php'; with require_once dirname(**_DIR"),"**) . '/laravel-develop/vendor/composer/autoload_real.php';"),(0,r.kt)("li",{parentName:"ul"},"Double check the path")),(0,r.kt)("p",null,"When all the modules/packages are installed then set the permissions and ownership for the storage folder and laravel main folder, using the following commands"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"cd .."),(0,r.kt)("li",{parentName:"ol"},"sudo chmod -R 755 laravel-develop"),(0,r.kt)("li",{parentName:"ol"},"chmod -R o+w laravel-develop/storage")),(0,r.kt)("p",null,"Run DB migrations and seeders to update the schema"),(0,r.kt)("h3",{id:"installing-npm--node"},"Installing NPM & Node"),(0,r.kt)("p",null,"After the laravel installation, we have to install npm and node version 10.19.0, then execute below set of commands under ","[ROOT]","/laravel-develop directory"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"npm install"),(0,r.kt)("li",{parentName:"ol"},"npm run prod")),(0,r.kt)("p",null,"If you are on the latest version of node then install Node Version Manager (nvm). After installing it, run the command nvm use 10.19.0 and nvm alias default 10.19.0"),(0,r.kt)("p",null,"After the above commands now you are good to proceed to the \u201c",(0,r.kt)("em",{parentName:"p"},"browse website\u201d")," section."),(0,r.kt)("h3",{id:"browsing-website"},"Browsing website"),(0,r.kt)("p",null,"After completing all the above steps open any browser and browse the url as used while creating vhost i.e.local.shopperapproved.com. Go to local.shopperapproved.com/account, then login using the information provided below"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Username: ",(0,r.kt)("a",{parentName:"li",href:"mailto:testadmin@shopperapproved.com"},"testadmin@shopperapproved.com")),(0,r.kt)("li",{parentName:"ol"},"Password: S2@#a1qzT~Xst)n;}=PE20")),(0,r.kt)("h3",{id:"installation-extra-notes"},"Installation Extra Notes:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"PHP 7.3 mentioned in document, It should be PHP 7.4")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"laravel-package auth0/login:\u201ddev-master\u201d has been renamed to auth0/login:\u201ddev-main\u201d")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"To copy vendor/autoload.php command/directory is not seems to be correct")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Databases/Config/Triggers and other helping data could be found on the keybase \u201cSA Installation Material\u201d folder only in the developers group."),(0,r.kt)("p",{parentName:"li"},"keybase://team/shopperapproved.developersonly/SA%20Installation%20Material")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"If you are using the auth-local app credentials then update your local database table members, column name \u2018sub\u2019 value for the ",(0,r.kt)("a",{parentName:"p",href:"mailto:testadmin@shopperapproved.com"},"testadmin@shopperapproved.com")," user with this value auth0|31928"))))}c.isMDXComponent=!0}}]);